import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// فایل‌های ترجمه
const resources = {
  fa: {
    translation: {
      appTitle: 'NexoraX Studio',
      appDescription: 'ابزاری حرفه‌ای برای ترجمه و ویرایش زیرنویس',
      geminiApiKeys: 'کلیدهای API Gemini',
      apiKeyPlaceholder: 'کلید API شماره {{number}}',
      addNewKey: 'افزودن کلید جدید',
      clearCache: 'پاک کردن کش',
      apiAvailable: 'در دسترس',
      apiInUse: 'در حال استفاده',
      apiCooldown: 'در حال خنک شدن ({{seconds}} ثانیه)',
      longTranslationTip: 'برای ترجمه‌های طولانی، چند کلید API وارد کنید.',
      targetLanguage: 'زبان مقصد',
      selectLanguage: 'انتخاب زبان',
      videoContext: 'زمینه ویدیو',
      videoContextPlaceholder: 'مثلاً: فیلم اکشن جنایی',
      uploadSubtitle: 'فایل زیرنویس رو انتخاب کن یا اینجا بکش',
      translateSubtitles: 'ترجمه زیرنویس',
      translateButton: 'ترجمه کن',
      translating: 'در حال ترجمه...',
      detectedLanguage: 'زبان تشخیص‌داده‌شده: {{lang}}',
      progress: 'پیشرفت: {{progress}}/{{total}}',
      resultTitle: 'نتیجه',
      resultPlaceholder: 'نتیجه اینجا نمایش داده می‌شود',
      searchSubtitles: 'جستجو در زیرنویس...',
      searchAndReplace: 'جستجو و جایگزینی',
      hide: 'مخفی کردن',
      search: 'جستجو...',
      replaceWith: 'جایگزین با...',
      apply: 'اعمال',
      line: 'خط {{index}}',
      delete: 'حذف',
      start: 'شروع',
      end: 'پایان',
      subtitleText: 'متن زیرنویس...',
      noResults: 'موردی یافت نشد',
      addNewLine: '+ خط جدید',
      saveChanges: 'ذخیره تغییرات',
      download: 'دانلود',
      guideAndSupport: 'راهنما و پشتیبانی',
      usage: 'نحوه استفاده:',
      usageSteps: [
        'فایل زیرنویس (فرمت SRT) را آپلود کنید.',
        'زبان مقصد را انتخاب کنید.',
        'حداقل یک کلید API معتبر Gemini وارد کنید.',
        'در صورت نیاز، زمینه ویدیو (مثلاً: فیلم اکشن جنایی) را وارد کنید.',
        'کلیک بر روی دکمه "ترجمه کن" و صبر تا پایان فرآیند.',
        'مشاهده و ویرایش زیرنویس ترجمه‌شده، سپس دانلود.',
      ],
      commonErrors: 'ارورهای رایج و راه‌حل‌ها:',
      errors: [
        '<strong>کلید API نامعتبر:</strong> کلید وارد شده اشتباه یا منقضی شده است.',
        '<strong>مشکل اتصال به اینترنت:</strong> بررسی اتصال اینترنت و دسترسی به سرور API.',
        '<strong>محدودیت نرخ API:</strong> تعداد درخواست‌ها از حد مجاز بیشتر شده؛ از چند کلید API استفاده کنید یا کمی صبر کنید.',
        '<strong>عدم آپلود فایل:</strong> ابتدا یک فایل SRT را انتخاب کنید.',
      ],
      apiTip: 'شما می‌توانید از طریق سایت aistudio.google.com با ایمیل‌های مختلف وارد شده و کلیدهای رایگان Gemini دریافت کنید. برای ترجمه‌های طولانی، توصیه می‌شود چند کلید API وارد کنید تا سرعت ترجمه بیشتر شود.',
      contactSupport: 'تماس با پشتیبانی',
      writeMessage: 'پیام خود را بنویسید:',
      messagePlaceholder: 'پیام شما...',
      sendMessage: 'ارسال پیام',
      // کلیدهای اضافی که توی کد استفاده شدن
      errorTimeFormat: 'فرمت زمان اشتباه است! باید به شکل 00:00:00,000 باشد.',
      errorEmptySearch: 'لطفاً عبارت جستجو را وارد کنید!',
      unsupportedOutputFormat: 'این فرمت خروجی هنوز پشتیبانی نمی‌شود. فایل به‌صورت SRT ذخیره شده است.',
    },
  },
  en: {
    translation: {
      appTitle: 'NexoraX Studio',
      appDescription: 'A Professional Tool for Subtitle Translation and Editing',
      geminiApiKeys: 'Gemini API Keys',
      apiKeyPlaceholder: 'API Key #{{number}}',
      addNewKey: 'Add New Key',
      clearCache: 'Clear Cache',
      apiAvailable: 'Available',
      apiInUse: 'In Use',
      apiCooldown: 'Cooling Down ({{seconds}} seconds)',
      longTranslationTip: 'For long translations, enter multiple API keys.',
      targetLanguage: 'Target Language',
      selectLanguage: 'Select Language',
      videoContext: 'Video Context',
      videoContextPlaceholder: 'e.g., Crime Action Movie',
      uploadSubtitle: 'Select a subtitle file or drag it here',
      translateSubtitles: 'Translate Subtitles',
      translateButton: 'Translate',
      translating: 'Translating...',
      detectedLanguage: 'Detected Language: {{lang}}',
      progress: 'Progress: {{progress}}/{{total}}',
      resultTitle: 'Result',
      resultPlaceholder: 'The result will be displayed here',
      searchSubtitles: 'Search in subtitles...',
      searchAndReplace: 'Search and Replace',
      hide: 'Hide',
      search: 'Search...',
      replaceWith: 'Replace with...',
      apply: 'Apply',
      line: 'Line {{index}}',
      delete: 'Delete',
      start: 'Start',
      end: 'End',
      subtitleText: 'Subtitle text...',
      noResults: 'No results found',
      addNewLine: '+ New Line',
      saveChanges: 'Save Changes',
      download: 'Download',
      guideAndSupport: 'Guide and Support',
      usage: 'How to Use:',
      usageSteps: [
        'Upload a subtitle file (SRT format).',
        'Select the target language.',
        'Enter at least one valid Gemini API key.',
        'If needed, enter the video context (e.g., Crime Action Movie).',
        'Click the "Translate" button and wait for the process to complete.',
        'View and edit the translated subtitles, then download.',
      ],
      commonErrors: 'Common Errors and Solutions:',
      errors: [
        '<strong>Invalid API Key:</strong> The entered key is incorrect or expired.',
        '<strong>Internet Connection Issue:</strong> Check your internet connection and access to the API server.',
        '<strong>API Rate Limit:</strong> Too many requests; use multiple API keys or wait a bit.',
        '<strong>No File Uploaded:</strong> First, select an SRT file.',
      ],
      apiTip: 'You can get free Gemini API keys by signing up with different emails on aistudio.google.com. For long translations, it’s recommended to use multiple API keys to increase translation speed.',
      contactSupport: 'Contact Support',
      writeMessage: 'Write your message:',
      messagePlaceholder: 'Your message...',
      sendMessage: 'Send Message',
      // کلیدهای اضافی که توی کد استفاده شدن
      errorTimeFormat: 'Time format is incorrect! Must be 00:00:00,000.',
      errorEmptySearch: 'Please enter a search term!',
      unsupportedOutputFormat: 'This output format is not supported yet. The file has been saved as SRT instead.',
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'fa',
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;